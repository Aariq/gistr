gistr
=======

```{r echo=FALSE}
knitr::opts_chunk$set(
  comment = "#>",
  collapse = TRUE,
  warning = FALSE, 
  message = FALSE
)
```

[![Build Status](https://api.travis-ci.org/ropensci/gistr.png)](https://travis-ci.org/ropensci/gistr)
[![Build status](https://ci.appveyor.com/api/projects/status/4jmuxbbv8qg4139t/branch/master?svg=true)](https://ci.appveyor.com/project/sckott/gistr/branch/master)

`gistr` is a light interface to GitHub's gists for R.

## Seealso:

* [rgithub](https://github.com/cscheid/rgithub) an R client for the Github API by Carlos Scheidegger
* [git2r](https://github.com/ropensci/git2r) an R client for the libgit2 C library by Stefan Widgren


## Quick start

### Install

```{r eval=FALSE}
devtools::install_github("ropensci/gistr@dev")
```

```{r}
library("gistr")
```

### Authentication

There are two ways to authorise gistr to work with your GitHub account:

* Generate a personal access token (PAT) at [https://help.github.com/articles/creating-an-access-token-for-command-line-use]() and record it in the `GITHUB_PAT` envar. 
* Interactively login into your GitHub account and authorise with OAuth.

Using the PAT is recommended.

Using the `gist_auth()` function you can authenticate seperately first, or if you're not authenticated, this function will run internally with each functionn call. If you have a PAT, that will be used, if not, OAuth will be used.

```{r eval=FALSE}
gist_auth()
```



### Rate limit information

```{r}
rate_limit()
```


### List gists

Limiting to a few results here to keep it brief

```{r}
gists(per_page = 2)
```

Since a certain date/time

```{r}
gists(since='2014-05-26T00:00:00Z', per_page = 2)
```

Request different types of gists, one of public, minepublic, mineall, or starred.

```{r}
gists('minepublic', per_page = 2)
```


### List a single commit

```{r}
gist(id = 'f1403260eb92f5dfa7e1')
```

### Create gist

You can pass in files

```{r}
gist_create(files="~/stuff.md", description='a new cool gist')
```

Or, wrap `gist_create()` around some code in your R session/IDE, like so, with just the function name, and a `{'` at the start and a `}'` at the end.

```{r}
gist_create(code={'
x <- letters
numbers <- runif(8)
numbers

[1] 0.3229318 0.5933054 0.7778408 0.3898947 0.1309717 0.7501378 0.3206379 0.3379005
'})
```


### List commits on a gist

```{r}
gists()[[1]] %>% commits()
```

### Star a gist

Star

```{r}
gist('7ddb9810fc99c84c65ec') %>% star()
```

Unstar

```{r}
gist('7ddb9810fc99c84c65ec') %>% unstar()
```

### Edit a gist

Add files

```{r}
gists(what = "minepublic")[[1]] %>%
  add_files("~/alm_othersources.md") %>%
  edit()
```

Delete files

```{r}
gists(what = "minepublic")[[1]] %>%
  delete_files("~/alm_othersources.md") %>%
  edit()
```

### Open a gist in your default browser

```{r eval=FALSE}
gists()[[1]] %>% browse()
```

> Opens the gist in your default browser

### Get embed script

```{r}
gists()[[1]] %>% embed()
```


### List forks

Returns a list of `gist` objects, just like `gists()`

```{r}
gist(id='1642874') %>% forks(per_page=2)
```

### Fork a gist

Returns a `gist` object

```{r}
g <- gists()
(forked <- g[[ sample(seq_along(g), 1) ]] %>% fork())
```

```{r echo=FALSE}
gist(forked$id) %>% delete()
```


## Meta

* Please [report any issues or bugs](https://github.com/ropensci/gistr/issues).
* License: MIT
* Get citation information for `gistr` in R doing `citation(package = 'gistr')`

[![](http://ropensci.org/public_images/github_footer.png)](http://ropensci.org)
